<div class="flex flex-col h-full">
  <div class="flex-shrink-0">
    <span class="count">{{ count }}</span
    >&nbsp;<span translate>table.object.count</span>
  </div>
  <cdk-virtual-scroll-viewport
    class="block flex-grow"
    tvsItemSize="48"
    headerHeight="56"
  >
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8" matSort>
      <ng-container *ngFor="let prop of properties" [matColumnDef]="prop">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>{{ prop }}</th>
        <td
          mat-cell
          *matCellDef="let element"
          class="whitespace-no-wrap text-xs pr-1 truncate"
        >
          {{ element[prop] }}
        </td>
      </ng-container>

      <tr
        mat-header-row
        *matHeaderRowDef="properties; sticky: true"
        class="font-cera"
      ></tr>
      <tr
        [id]="getRowEltId(row.id)"
        mat-row
        *matRowDef="let row; columns: properties"
        (click)="selected.emit(row)"
        [class.active]="row.id === activeId"
      ></tr>
    </table>
  </cdk-virtual-scroll-viewport>
</div>
