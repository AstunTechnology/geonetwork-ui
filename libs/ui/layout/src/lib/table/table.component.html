<div class="border border-gray-300 rounded overflow-hidden bg-white">
  <cdk-virtual-scroll-viewport
    tvsItemSize="48"
    headerHeight="56"
    style="height: 400px"
  >
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8" matSort>
      <ng-container *ngFor="let prop of properties" [matColumnDef]="prop">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>{{ prop }}</th>
        <td
          mat-cell
          *matCellDef="let element"
          class="whitespace-no-wrap text-xs pr-1 truncate"
        >
          {{ element[prop] }}
        </td>
      </ng-container>

      <tr
        mat-header-row
        *matHeaderRowDef="properties; sticky: true"
        class="font-cera"
      ></tr>
      <tr
        [id]="getRowEltId(row.id)"
        mat-row
        *matRowDef="let row; columns: properties"
        (click)="selected.emit(row)"
        [class.active]="row.id === activeId"
      ></tr>
    </table>
  </cdk-virtual-scroll-viewport>
  <div class="text-gray-900 border-t border-gray-300 px-4 py-2">
    <span class="count font-extrabold text-primary">{{ count }}</span
    >&nbsp;<span translate>table.object.count</span>.
  </div>
</div>
