<div
  class="px-3 pt-6 sm:p-7 sm:my-8 sm:shadow-primary-light sm:rounded-xl grid grid-cols-3 gap-4 transition-[height] duration-100"
  [ngClass]="
    isOpen ? 'bg-primary text-white h-[204px]' : 'bg-white text-main h-[98px]'
  "
>
  <div class="col-span-2 grid grid-cols-2 gap-4 grid-rows-auto">
    <div class="col-span-2 flex flex-row items-baseline" *ngIf="isOpen">
      <h2 class="text-2xl mr-4" translate>search.filters.title</h2>
      <gn-ui-results-hits class="text-sm opacity-[60%]"></gn-ui-results-hits>
    </div>
    <gn-ui-filter-dropdown
      class="w-full"
      [fieldName]="'OrgForResource'"
      [title]="'search.filters.byOrganisation' | translate"
    ></gn-ui-filter-dropdown>
    <gn-ui-filter-dropdown
      class="w-full"
      [fieldName]="'linkProtocol'"
      [title]="'search.filters.byFormat' | translate"
    ></gn-ui-filter-dropdown>
    <gn-ui-filter-dropdown
      class="w-full"
      [ngClass]="isOpen ? 'visible' : 'hidden'"
      [fieldName]="'resolutionScaleDenominator'"
      [title]="'search.filters.byResolution' | translate"
    ></gn-ui-filter-dropdown>
  </div>
  <div class="flex flex-col justify-between">
    <div
      class="flex flex-row"
      [ngClass]="isOpen ? 'justify-end' : 'justify-between'"
    >
      <gn-ui-button *ngIf="!isOpen" (click)="open()" type="outline"
        >...</gn-ui-button
      >
      <gn-ui-sort-by class="text-white"></gn-ui-sort-by>
    </div>
    <div class="text-right">
      <button
        type="button"
        *ngIf="isOpen"
        class="text-white opacity-[60%] hover:opacity-[90%] border-0 bg-transparent"
        (click)="close()"
      >
        <span translate>search.filters.minimize</span>
        <mat-icon class="ml-1 align-middle leading-none">remove</mat-icon>
      </button>
    </div>
  </div>
</div>
